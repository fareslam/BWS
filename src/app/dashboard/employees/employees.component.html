<h4 class="display-4"  style="text-align: center;">Employees Management</h4>
<hr>
<dx-button id="exportButton"
    icon="exportpdf"
    text="Export to PDF"
    stylingMode="outlined"
    type="danger"
    (onClick)="exportGrid()">
</dx-button>

<dx-data-grid id="gridContainer"
[dataSource]="dataSource"
[showBorders]="true"
(onRowRemoved)="deleteSub($event)"
(onRowInserted)="insertSub($event)"
(onRowUpdated)="updateSub($event)"
(onExporting)="onExporting($event)"
keyExpr="cin">


<dxo-paging [pageSize]="5"></dxo-paging>
<dxo-search-panel
[visible]="true"></dxo-search-panel>
<dxo-export [enabled]="true"></dxo-export>
<dxo-editing mode="form"   [useIcons]="true"  [allowAdding]="true"  [allowUpdating]="true" [allowDeleting]="true"></dxo-editing>


<dxi-column dataField="cin" caption="CIN" dataType="number" [width] ="100"   >
  <dxi-validation-rule type="required"></dxi-validation-rule>
</dxi-column>
<dxi-column dataField="name" caption="FirstName">
  <dxi-validation-rule type="required"></dxi-validation-rule>
</dxi-column>
<dxi-column dataField="username" caption="username" [visible]="false" >
  <dxi-validation-rule type="required"></dxi-validation-rule>
</dxi-column>
<dxi-column dataField="password" caption="password"    [editorOptions]="{ mode: 'password' }" [visible]="false" >
  <dxi-validation-rule type="required"></dxi-validation-rule>
</dxi-column>
<dxi-column dataField="surname" caption="LastName">
  <dxi-validation-rule type="required"></dxi-validation-rule>
</dxi-column>
<dxi-column dataField="dateBirth" caption="Birth Date" dataType="date" >
  <dxi-validation-rule type="required"></dxi-validation-rule>
</dxi-column>
<dxi-column dataField="tel" caption="Phone" dataType="number" >
  <dxi-validation-rule type="required"></dxi-validation-rule>
</dxi-column>
<dxi-column dataField="email" caption="E-mail" dataType="email" >
  <dxi-validation-rule type="required"></dxi-validation-rule>
  <dxi-validation-rule type="email"></dxi-validation-rule>
  </dxi-column>


   <dxi-column dataField="roles[0][name]" caption="Role" [allowEditing]="false">

  </dxi-column>



  <dxi-column dataField="role"  caption="Role SubUser" [visible]="false">

    <dxo-lookup
    [dataSource]="rol"

    displayExpr="name"
    valueExpr="name">
</dxo-lookup>
<dxi-validation-rule type="required"></dxi-validation-rule>
  </dxi-column>


  <dxi-column type="buttons" [width]="110" caption="Actions">
    <dxi-button name="edit" ></dxi-button>
    <dxi-button name="delete"></dxi-button>

    </dxi-column>



</dx-data-grid>

